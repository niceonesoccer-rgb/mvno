# 광고 시스템 제한 사항 및 권장 사항

## 📊 현재 시스템 제한 사항

### 1. 데이터베이스 제한

**이론적 최대 개수:**
- `rotation_advertisements` 테이블의 `id` 컬럼: `INT(11) UNSIGNED`
- 최대 값: **4,294,967,295개** (약 42억 개)
- 실질적으로 **무제한**으로 광고 등록 가능

**실제 제한:**
- 현재 코드상 **전체 광고 개수에 대한 제한 없음**
- 개별 상품당 동시 활성 광고: **1개** (중복 체크 로직)

### 2. 비즈니스 로직 제한

**같은 상품:**
```php
// api/advertisement-apply.php에서 확인
// 같은 상품의 활성화된 광고 중복 체크
SELECT id FROM rotation_advertisements 
WHERE product_id = :product_id 
AND status = 'active' 
AND end_datetime > NOW()
```
- ✅ 같은 상품은 **동시에 1개의 활성 광고만** 가능
- ✅ 광고 종료 후 재신청 가능

**서로 다른 상품:**
- ✅ 제한 없음 (각 상품마다 광고 가능)
- ✅ 예: 판매자가 10개 상품을 등록했다면, 각각 광고 가능 (최대 10개)

**판매자별:**
- ✅ 제한 없음 (예치금만 충분하면)

### 3. 성능 관점 권장 사항

#### ✅ 최적화 완료 (현재 구현)

| 광고 개수 | 성능 상태 | 동시 접속자 지원 |
|---------|----------|----------------|
| 1-10개 | ✅ 최적 | 100명 이상 |
| 11-30개 | ✅ 최적 | 100명 (최적화 완료) |
| 31-50개 | ⚠️ 양호 | 100명 (성능 감소 가능) |
| 51-100개 | ⚠️ 주의 | 50-100명 (최적화 권장) |
| 100개 이상 | ❌ 비권장 | 제한적 |

#### 성능 분석

**광고 30개 기준:**
- DB 쿼리: 2-5ms
- 판매자 정보: 1번의 배치 쿼리 (최적화 완료)
- 계산 로직: < 0.1ms
- **총 응답 시간: 80-150ms**

**광고 100개 기준 (예상):**
- DB 쿼리: 5-15ms (인덱스 활용)
- 판매자 정보: 1번의 배치 쿼리
- 계산 로직: < 0.5ms
- **총 응답 시간: 150-300ms** (사용 가능)

**광고 200개 이상:**
- 페이지 렌더링 시간 증가
- 클라이언트 측 부하 증가
- **페이지네이션 또는 필터링 권장**

## 🎯 권장 사항

### 1. 일반적인 운영

**권장 광고 개수:**
- **최대 30-50개** (최적 성능 유지)
- 페이지 로딩 시간: 100-200ms
- 사용자 경험: 양호

### 2. 대규모 운영

**50개 이상 광고 시:**
- 페이지네이션 추가 고려
- 필터링 기능 강화
- 광고 카테고리별 분류

**100개 이상 광고 시:**
- 필수: 페이지네이션 또는 무한 스크롤
- 필수: 카테고리/필터 필수
- 권장: 검색 기능

### 3. 관리자 설정

**현재:**
- 광고 개수 제한 설정 없음
- 관리자가 직접 관리 필요

**권장 추가 기능:**
- 관리자 페이지에서 최대 광고 개수 제한 설정
- 광고 승인 시스템 (선택 사항)
- 광고 우선순위 관리

## 📝 결론

### 현재 상태
- ✅ **이론적으로 무제한 광고 등록 가능**
- ✅ **개별 상품당 1개 광고 제한** (중복 방지)
- ✅ **30개까지 최적화 완료**
- ✅ **100명 동시 접속 지원**

### 실질적 권장 개수
- **최적: 30개 이하**
- **양호: 50개 이하**
- **주의: 100개 이하**
- **비권장: 100개 초과** (페이지네이션 필요)

### 추가 제한이 필요한 경우
관리자 페이지에서 최대 광고 개수 제한을 설정하는 기능을 추가할 수 있습니다.
