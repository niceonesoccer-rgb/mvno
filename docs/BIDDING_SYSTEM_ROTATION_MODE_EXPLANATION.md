# 로테이션 모드 상세 설명

## 📌 핵심 개념

**로테이션 모드에서는 입찰 금액이 고정이므로, 최소/최대 금액 설정이 필요 없습니다.**

---

## 🎯 관리자 설정

### 입찰 라운드 생성 시

```
운용 방식: 로테이션 모드 선택

설정 항목:
1. 입찰 금액: 50,000원 (단일 금액만 설정)
   → 최소/최대 금액 입력 불필요
   → 내부적으로 min_bid_amount = max_bid_amount = 50,000원으로 저장

2. 순환 간격: 10분 (또는 1시간 등)

설정 화면 예시:
┌─────────────────────────────────┐
│ 운용 방식: ☐ 고정 모드          │
│          ☑ 로테이션 모드        │
│                                 │
│ 입찰 금액: [50,000] 원          │ ← 단일 금액만 입력
│                                 │
│ 순환 간격: [10] 분              │
└─────────────────────────────────┘
```

**중요:**
- 관리자는 입찰 금액 하나만 입력
- 최소/최대 금액 필드는 표시하지 않음 (로테이션 모드인 경우)
- 내부적으로는 min_bid_amount = max_bid_amount = 입력한 금액으로 저장

---

## 👤 판매자 입찰

### 입찰 화면

```
┌─────────────────────────────────┐
│ 입찰 정보                       │
├─────────────────────────────────┤
│ 운용 방식: 로테이션 모드        │
│ 입찰 금액: 50,000원 (고정)     │ ← 입력 불필요
│                                 │
│ 예치금 잔액: 1,000,000원        │
│ 필요한 예치금: 50,000원         │
│                                 │
│ ※ 입찰 금액은 자동 적용됩니다   │
│ ※ 입찰 시간이 빠를수록          │
│   초기 상위 노출됩니다          │
│                                 │
│ [입찰 등록]                     │
└─────────────────────────────────┘
```

**중요:**
- 판매자는 입찰 금액을 입력할 필요 없음
- 입찰 등록 버튼만 클릭하면 자동으로 고정 금액이 적용됨
- 입찰 시간(bid_at)이 순위 결정의 유일한 기준
- 입찰이 빠를수록 초기 상위 노출 (순환 시작 후에는 공평)

---

## 💾 데이터 저장

### bidding_participations 테이블

```
입찰 참여 시:
- seller_id: 판매자A
- bid_amount: 50000 (고정 금액, 자동 저장)
- bid_at: 2025-12-24 10:00:01 (입찰 시간, 순위 결정 기준)
- status: 'pending'
```

### 모든 입찰자는 동일 금액

```
판매자A: bid_amount = 50000, bid_at = 10:00:01
판매자B: bid_amount = 50000, bid_at = 10:00:02
판매자C: bid_amount = 50000, bid_at = 10:00:03
판매자D: bid_amount = 50000, bid_at = 10:00:04
...
```

---

## 🔄 순위 결정 및 순환

### 초기 순위 결정

```
모든 입찰 금액이 동일하므로 입찰 시간(bid_at) 기준:

1위: 입찰 시간 10:00:01 (가장 빠름)
2위: 입찰 시간 10:00:02
3위: 입찰 시간 10:00:03
...
7위: 입찰 시간 10:00:07
```

### 순환 동작

```
10:00 (초기)
1위: 판매자A (10:00:01)
2위: 판매자B (10:00:02)
3위: 판매자C (10:00:03)
...
7위: 판매자G (10:00:07)

10:10 (10분 후 - 순환)
1위: 판매자B (2등 → 1등)
2위: 판매자C (3등 → 2등)
...
7위: 판매자A (1등 → 7등, 순환)

10:20 (20분 후 - 순환)
1위: 판매자C
2위: 판매자D
...
7위: 판매자B
```

---

## ✅ 정리

### 관리자 관점
- 입찰 금액 하나만 설정 (단일 금액)
- 최소/최대 금액 설정 불필요
- 순환 간격 설정

### 판매자 관점
- 입찰 금액 입력 불필요
- 입찰 등록 버튼만 클릭
- 입찰 시간이 빠를수록 초기 상위 노출
- 순환 후에는 모두 공평하게 상위 노출

### 시스템 관점
- 모든 입찰자는 동일 금액으로 입찰
- 입찰 시간(bid_at)에 따라 초기 순위 결정
- 순환 간격마다 순서 변경
- min_bid_amount = max_bid_amount로 내부 저장

