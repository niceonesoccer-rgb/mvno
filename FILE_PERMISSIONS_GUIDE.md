# 파일 권한 설정 가이드

## 파일 권한이란?

파일 권한은 파일/폴더에 대한 읽기(Read), 쓰기(Write), 실행(Execute) 권한을 의미합니다.

### 권한 코드 설명
- **644**: 파일에 적합 (읽기/쓰기 가능, 실행 불가)
- **755**: 폴더/스크립트에 적합 (읽기/쓰기/실행 가능)

### 숫자 의미
- **6** = 4(읽기) + 2(쓰기) = 읽기 + 쓰기
- **5** = 4(읽기) + 1(실행) = 읽기 + 실행
- **4** = 읽기만

---

## 방법 1: cPanel 파일 매니저 (가장 쉬움)

### 단계별 가이드

1. **cPanel 로그인**
   - 호스팅 업체(cPanel 제공)에 로그인
   - "파일 매니저" 또는 "File Manager" 클릭

2. **파일 선택**
   - 업로드한 파일을 마우스 오른쪽 버튼으로 클릭
   - 또는 파일을 선택한 후 상단 메뉴에서 "권한 변경" 클릭

3. **권한 설정**
   ```
   파일(.php)의 경우:
   ☑ 읽기 (Read): 소유자, 그룹, 공개 모두 체크
   ☑ 쓰기 (Write): 소유자만 체크
   ☐ 실행 (Execute): 공개만 체크 (필요시)
   
   또는 숫자로 입력: 644
   ```

4. **폴더의 경우**
   ```
   폴더의 경우:
   ☑ 읽기 (Read): 모두 체크
   ☑ 쓰기 (Write): 소유자만 체크
   ☑ 실행 (Execute): 모두 체크
   
   또는 숫자로 입력: 755
   ```

5. **적용**
   - "변경" 또는 "Change Permissions" 버튼 클릭

---

## 방법 2: FTP 클라이언트 (FileZilla 등)

### FileZilla 사용 시

1. **FileZilla 실행 및 서버 연결**
   - 호스트, 사용자명, 비밀번호 입력하여 연결

2. **파일 선택 및 권한 변경**
   - 업로드한 파일을 마우스 오른쪽 버튼 클릭
   - "파일 권한" 또는 "File Permissions" 선택
   
3. **숫자로 입력**
   ```
   파일(.php): 644 입력
   폴더: 755 입력
   ```
   
   또는 체크박스로 설정:
   ```
   파일:
   [ ] [x] [ ]  [x] [ ] [ ]  [x] [ ] [ ]
   소유자       그룹       공개
   
   폴더:
   [x] [x] [x]  [x] [ ] [x]  [x] [ ] [x]
   소유자       그룹       공개
   ```

4. **적용**
   - "OK" 클릭

---

## 방법 3: SSH (터미널) 사용

### 터미널/SSH 접속 시

```bash
# 파일 권한 변경 (644)
chmod 644 파일명.php

# 폴더 권한 변경 (755)
chmod 755 폴더명/

# 여러 파일 한번에 변경
chmod 644 *.php

# 재귀적으로 폴더 내 모든 파일 변경
find . -type f -name "*.php" -exec chmod 644 {} \;
find . -type d -exec chmod 755 {} \;
```

---

## 권장 파일 권한 목록

### PHP 파일들
```
mypage/account-management.php → 644
api/send-email-verification.php → 644
api/verify-email-code.php → 644
api/change-password.php → 644
includes/data/mail-helper.php → 644
```

### 폴더들
```
mypage/ → 755
api/ → 755
includes/ → 755
includes/data/ → 755
```

---

## 권한 설정 후 확인 방법

### cPanel에서 확인
- 파일 매니저에서 파일을 선택하면 우측에 권한이 표시됨
- 예: `-rw-r--r--` (644), `drwxr-xr-x` (755)

### FTP에서 확인
- 파일 목록에서 "권한" 컬럼 확인
- 숫자 또는 `rwx` 형식으로 표시

---

## 문제 해결

### "권한 거부" 오류 발생 시
1. 파일 권한을 644로 설정
2. 폴더 권한을 755로 설정
3. 여전히 안 되면 777로 시도 (보안상 권장하지 않음)

### 파일을 수정할 수 없을 때
- 권한을 644로 설정하면 소유자는 쓰기 가능
- FTP 계정과 서버 사용자 계정이 일치하는지 확인

---

## 보안 주의사항

⚠️ **절대 사용하지 말아야 할 권한**
- **777**: 모든 권한 (매우 위험!)
- **666**: 읽기/쓰기 모든 사용자 (위험)

✅ **권장 권한**
- **644**: 일반 PHP 파일
- **755**: 폴더 및 실행 스크립트
- **600**: 설정 파일 (비밀번호 포함 시)

---

## 빠른 체크리스트

- [ ] 업로드한 모든 PHP 파일: **644**
- [ ] 모든 폴더: **755**
- [ ] 설정 파일 (비밀번호 포함): **600** (선택사항)
- [ ] 실행 스크립트: **755** (필요시)
