# 일반회원 사이트 동선 (User Journey)

## 📍 주요 페이지 구조

### 1. 진입점 (Entry Points)

#### 메인 페이지 (`/MVNO/index.php`)
- **메인 배너**: 이벤트 배너 (3개 - 큰 배너 1개 + 작은 배너 2개)
- **추천 알뜰폰 요금제**: 6개 미리보기 → "더보기" 클릭 시 전체 목록
- **인기 통신사폰**: 6개 미리보기 → "더보기" 클릭 시 전체 목록
- **최대할인 인터넷 상품**: 캐러셀 형태 → "더보기" 클릭 시 전체 목록

#### 헤더 네비게이션
- 로고 (홈으로 이동)
- 메뉴: 알뜰폰, 통신사폰, 인터넷, 이벤트
- 로그인 버튼 (비로그인 시) / 사용자 메뉴 (로그인 시)

---

## 🔄 사용자 여정 (User Journey)

### 시나리오 1: 비회원 → 회원가입 → 상품 신청

```
1. 메인 페이지 접속
   └─> 상품 둘러보기 (알뜰폰/통신사폰/인터넷)

2. 관심 상품 클릭
   └─> 상품 목록 페이지 (mvno.php / mno.php / internets.php)
       ├─> 필터링 (통신사, 데이터량, 가격 등)
       ├─> 정렬 (인기순, 가격순 등)
       └─> 상품 카드 클릭

3. 상품 상세 페이지
   └─> 상세 정보 확인
       ├─> 찜하기 (하트 버튼)
       ├─> 공유하기
       └─> 신청하기 버튼 클릭

4. 로그인 필요
   └─> 로그인 페이지 (/MVNO/auth/login.php)
       ├─> 네이버 로그인
       ├─> 카카오 로그인
       └─> 구글 로그인
       └─> (SNS 로그인 시 자동 회원가입)

5. 로그인 완료
   └─> 상품 상세 페이지로 복귀 또는 메인 페이지

6. 상품 신청
   └─> 포인트 사용 모달
       ├─> 포인트 잔액 확인
       ├─> 포인트 차감
       └─> 신청 완료

7. 마이페이지
   └─> 주문 내역 확인
       ├─> 알뜰폰 신청내역
       ├─> 통신사폰 신청내역
       └─> 인터넷 신청내역
```

### 시나리오 2: 로그인 회원의 일반적인 사용

```
1. 메인 페이지 접속
   └─> 로그인 상태 유지

2. 상품 탐색
   └─> 알뜰폰 목록 (/MVNO/mvno/mvno.php)
       └─> 필터 적용
           ├─> 통신사 (KT/SKT/LG U+)
           ├─> 데이터량
           ├─> 가격대
           └─> 해시태그 필터

3. 상품 상세 확인
   └─> 상세 페이지 (/MVNO/mvno/mvno-plan-detail.php?id=123)
       ├─> 요금제 정보
       ├─> 사은품 정보
       ├─> 리뷰 확인
       └─> 찜하기 / 공유하기

4. 찜한 상품 관리
   └─> 마이페이지 (/MVNO/mypage/mypage.php)
       ├─> 찜한 알뜰폰 요금제
       └─> 찜한 통신사폰 요금제

5. 주문 내역 확인
   └─> 마이페이지
       ├─> 알뜰폰 신청내역 (/MVNO/mypage/mvno-order.php)
       ├─> 통신사폰 신청내역 (/MVNO/mypage/mno-order.php)
       └─> 인터넷 신청내역 (/MVNO/mypage/internet-order.php)
       └─> 각 주문에 대해:
           ├─> 리뷰 작성
           ├─> 상담 문의
           └─> 주문 취소 (가능한 경우)

6. 포인트 관리
   └─> 마이페이지
       ├─> 포인트 잔액 확인
       └─> 포인트 내역 (/MVNO/mypage/point-history.php)
           ├─> 충전 내역
           ├─> 사용 내역 (알뜰폰/통신사폰/인터넷 신청)
           └─> 잔액 확인

7. 고객 지원
   └─> Q&A (/MVNO/qna/qna.php)
       ├─> 질문 목록 확인
       ├─> 질문 작성 (/MVNO/qna/qna-write.php)
       └─> 질문 상세 확인 (/MVNO/qna/qna-detail.php?id=123)

8. 공지사항 확인
   └─> 공지사항 (/MVNO/notice/notice.php)
       └─> 공지사항 상세 (/MVNO/notice/notice-detail.php?id=123)
```

---

## 🗺️ 페이지별 상세 동선

### 1. 메인 페이지 (`index.php`)

**사용자 행동:**
1. 페이지 로드
2. 배너 클릭 (이벤트 페이지로 이동)
3. 상품 카드 클릭
   - 알뜰폰 카드 → `/MVNO/mvno/mvno.php`
   - 통신사폰 카드 → `/MVNO/mno/mno.php`
   - 인터넷 카드 → `/MVNO/internets/internets.php`
4. "더보기" 클릭 → 전체 목록 페이지

**주요 기능:**
- 상품 미리보기
- 이벤트 배너
- 빠른 접근 링크

---

### 2. 로그인/회원가입 (`auth/login.php`)

**접근 경로:**
- 헤더의 "로그인" 버튼 클릭
- 상품 신청 시 비로그인 상태면 자동 리다이렉트

**사용자 행동:**
1. 로그인 페이지 접속
2. SNS 로그인 선택
   - 네이버 로그인
   - 카카오 로그인
   - 구글 로그인
3. SNS 인증 완료
4. 자동 회원가입 (최초 로그인 시)
5. 메인 페이지 또는 원래 페이지로 복귀

**특징:**
- 직접 가입 불가 (SNS 로그인만 가능)
- 최초 로그인 시 자동 회원가입
- `user_id` 자동 생성 (형식: `nvr_1234567`, `kko_1234567`, `gol_1234567`)

---

### 3. 상품 목록 페이지

#### 알뜰폰 (`mvno/mvno.php`)
**사용자 행동:**
1. 필터 버튼 클릭
   - 통신사 필터
   - 데이터량 필터
   - 가격대 필터
   - 해시태그 필터
2. 정렬 옵션 선택
3. 상품 카드 클릭 → 상세 페이지

#### 통신사폰 (`mno/mno.php`)
**사용자 행동:**
1. 필터 적용
2. 상품 카드 클릭 → 상세 페이지

#### 인터넷 (`internets/internets.php`)
**사용자 행동:**
1. 인터넷 상품 목록 확인
2. 상품 카드 클릭 → 상세 페이지

---

### 4. 상품 상세 페이지

#### 알뜰폰 상세 (`mvno/mvno-plan-detail.php?id=123`)
**사용자 행동:**
1. 요금제 정보 확인
   - 기본 정보
   - 데이터 정보
   - 사은품 정보
   - 가격 정보
2. 리뷰 확인
3. 찜하기 (하트 버튼)
4. 공유하기
5. 신청하기 버튼 클릭
   - 로그인 확인
   - 포인트 사용 모달
   - 포인트 차감
   - 신청 완료

#### 통신사폰 상세 (`mno/mno-phone-detail.php?id=123`)
**사용자 행동:**
1. 기기 정보 확인
2. 요금제 정보 확인
3. 찜하기 / 공유하기
4. 신청하기
   - 상담 문의 모달 (일부 상품)
   - 또는 직접 신청

---

### 5. 마이페이지 (`mypage/mypage.php`)

**주요 섹션:**

#### 포인트 정보
- 현재 잔액 표시
- "내역보기" 링크 → 포인트 내역 페이지

#### 찜한 상품
- 찜한 알뜰폰 요금제 (개수 표시)
- 찜한 통신사폰 요금제 (개수 표시)

#### 주문 내역
- 알뜰폰 신청내역 (`mypage/mvno-order.php`)
- 통신사폰 신청내역 (`mypage/mno-order.php`)
- 인터넷 신청내역 (`mypage/internet-order.php`)

#### 기타 메뉴
- 포인트 내역
- 계정 관리
- Q&A
- 공지사항

---

### 6. 주문 내역 페이지

#### 알뜰폰 신청내역 (`mypage/mvno-order.php`)
**사용자 행동:**
1. 주문 목록 확인
   - 주문일
   - 요금제 정보
   - 사은품 정보
   - 활성화일
2. 리뷰 작성 (리뷰 미작성 시)
3. 상담 문의
4. 주문 상세 확인

#### 통신사폰 신청내역 (`mypage/mno-order.php`)
**사용자 행동:**
1. 주문 목록 확인
   - 주문일/시간
   - 기기 정보
   - 요금제 정보
   - 활성화일/시간
2. 리뷰 작성
3. 상담 문의
4. 주문 상세 확인

#### 인터넷 신청내역 (`mypage/internet-order.php`)
**사용자 행동:**
1. 주문 목록 확인
2. 상담 문의
3. 주문 상세 확인

---

### 7. 리뷰 작성

**접근 경로:**
- 주문 내역 페이지에서 "리뷰 작성" 버튼 클릭
- 상품 상세 페이지에서 리뷰 작성

**사용자 행동:**
1. 리뷰 작성 모달 열기
2. 평점 선택
3. 리뷰 내용 작성
4. 리뷰 제출
5. 리뷰 작성 완료 모달

---

### 8. Q&A (`qna/qna.php`)

**사용자 행동:**
1. Q&A 목록 확인
   - 내 질문 목록
   - 답변 상태 (답변대기/답변완료)
2. "질문하기" 버튼 클릭
3. 질문 작성 (`qna/qna-write.php`)
   - 제목 입력
   - 내용 입력
   - 제출
4. 질문 상세 확인 (`qna/qna-detail.php?id=123`)
   - 질문 내용
   - 답변 확인 (답변 완료 시)

---

### 9. 공지사항 (`notice/notice.php`)

**사용자 행동:**
1. 공지사항 목록 확인
   - 중요 공지 표시
   - 작성일
   - 조회수
2. 공지사항 클릭
3. 상세 내용 확인 (`notice/notice-detail.php?id=123`)

---

## 🔐 인증 및 권한

### 비로그인 상태
- ✅ 상품 조회 가능
- ✅ 상품 상세 확인 가능
- ✅ 공지사항 확인 가능
- ❌ 상품 신청 불가
- ❌ 찜하기 불가
- ❌ 리뷰 작성 불가
- ❌ Q&A 작성 불가
- ❌ 마이페이지 접근 불가

### 로그인 상태 (일반회원)
- ✅ 모든 상품 조회 가능
- ✅ 상품 신청 가능 (포인트 사용)
- ✅ 찜하기 가능
- ✅ 리뷰 작성 가능
- ✅ Q&A 작성 가능
- ✅ 마이페이지 접근 가능
- ✅ 주문 내역 확인 가능
- ✅ 포인트 내역 확인 가능

---

## 💰 포인트 시스템

### 포인트 획득
- 포인트 충전 (외부 결제 시스템 연동 필요)

### 포인트 사용
- 알뜰폰 신청 시 차감
- 통신사폰 신청 시 차감
- 인터넷 신청 시 차감

### 포인트 내역
- 충전 내역
- 사용 내역 (상품별 구분)
- 잔액 확인

---

## 📱 주요 기능별 동선

### 찜하기 기능
```
1. 상품 상세 페이지
2. 하트 버튼 클릭
3. 로그인 확인 (비로그인 시 로그인 페이지로)
4. 찜하기 완료
5. 마이페이지에서 찜한 상품 확인
```

### 공유하기 기능
```
1. 상품 상세 페이지
2. 공유 버튼 클릭
3. 공유 모달 열기
   - 카카오톡 공유
   - 링크 복사
   - 기타 SNS 공유
```

### 상담 문의 기능
```
1. 주문 내역 페이지
2. "상담 문의" 버튼 클릭
3. 상담 문의 모달 열기
4. 문의 내용 입력
5. 제출
```

---

## 🎯 사용자 행동 패턴

### 탐색형 사용자
```
메인 → 상품 목록 → 필터링 → 상세 확인 → 찜하기 → 다른 상품 탐색
```

### 구매 의도 강한 사용자
```
메인 → 상품 상세 → 신청하기 → 로그인 → 포인트 사용 → 신청 완료
```

### 정보 확인형 사용자
```
메인 → 공지사항 → Q&A → 상품 상세 → 리뷰 확인
```

### 관리형 사용자
```
마이페이지 → 주문 내역 → 리뷰 작성 → 포인트 내역 확인
```

---

## 📊 데이터 흐름

### 회원가입
```
SNS 로그인 → 사용자 정보 수신 → DB(users 테이블)에 저장 → 세션 생성
```

### 상품 신청
```
상품 선택 → 로그인 확인 → 포인트 확인 → 포인트 차감 → 
주문 데이터 저장 → DB(포인트/주문 관련 테이블)에 반영
```

### 리뷰 작성
```
주문 내역 확인 → 리뷰 작성 모달 → 리뷰 데이터 저장 → 
상품 상세 페이지에 리뷰 표시
```

---

## 🔄 페이지 간 이동 흐름

```
메인 페이지 (index.php)
    ├─> 알뜰폰 목록 (mvno.php)
    │   └─> 알뜰폰 상세 (mvno-plan-detail.php)
    │       ├─> 신청 → 로그인 → 포인트 사용 → 신청 완료
    │       └─> 찜하기 → 마이페이지
    │
    ├─> 통신사폰 목록 (mno.php)
    │   └─> 통신사폰 상세 (mno-phone-detail.php)
    │       ├─> 신청 → 로그인 → 포인트 사용 → 신청 완료
    │       └─> 찜하기 → 마이페이지
    │
    ├─> 인터넷 목록 (internets.php)
    │   └─> 인터넷 상세
    │       └─> 신청 → 로그인 → 포인트 사용 → 신청 완료
    │
    └─> 로그인 (auth/login.php)
        └─> 마이페이지 (mypage.php)
            ├─> 주문 내역
            │   ├─> 알뜰폰 신청내역
            │   ├─> 통신사폰 신청내역
            │   └─> 인터넷 신청내역
            ├─> 포인트 내역
            ├─> 찜한 상품
            ├─> Q&A
            └─> 공지사항
```

---

## ⚠️ 현재 구조의 특징

### 장점
- 간단한 구조로 빠른 개발 가능
- SNS 로그인으로 간편한 회원가입
- 포인트 시스템으로 신청 프로세스 단순화

### 개선 필요 사항
- 주문 데이터와 사용자 연결 구조 명확화 필요
- 리뷰 데이터와 사용자 연결 구조 확인 필요
- 실제 주문 프로세스 구현 필요 (현재는 포인트 차감만)

---

## 📝 회원 관리 페이지 연계

회원 관리 페이지에서 확인 가능한 정보:
- 회원 기본 정보
- 가입 방식 (SNS/직접)
- 포인트 잔액 및 내역
- 주문 건수 (구조 명확화 후)
- 리뷰 작성 수 (구조 명확화 후)
- Q&A 작성 수 (이미 연결됨)
















